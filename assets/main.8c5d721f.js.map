{"version":3,"file":"main.8c5d721f.js","sources":["../../src/frontend/components/molecules/search/search.molecule.ts","../../src/frontend/main.ts"],"sourcesContent":["export const createSearch = (target: string, uid: string, source: string) => {\n\n    const searchArea = document.querySelector(`[${target}=\"${uid}\"]`);\n    if(searchArea){\n        const input: HTMLInputElement | null = searchArea?.querySelector('input')\n        input?.addEventListener('keyup', (e) => {\n            const skills = document.querySelectorAll(source);\n            const target = e.target as HTMLInputElement;\n\n            if(target.value === '') {\n                // reset search\n                for(const skill of skills) {\n                    skill.classList.remove('hidden');\n                    const valueItem = skill.querySelector('.skill-value');\n                    const placeholder = skill.querySelector('.skill-search');\n                    valueItem?.classList.remove('hidden');\n                    placeholder?.classList.add('hidden')\n                }\n            } else {\n                let i = 0\n                for(const skill of skills) {\n                    const valueItem = skill.querySelector('.skill-value') as HTMLElement;\n                    const placeholder = skill.querySelector('.skill-search') as HTMLElement;\n                    const skillValue: string = valueItem?.innerText;\n                    if(skill.textContent?.toLowerCase().includes(target.value.toLowerCase())) {\n                        skill.classList.remove('hidden');\n                        valueItem?.classList.add('hidden')\n                        skill.querySelector('.skill-search')?.classList.remove('hidden')\n                        if(placeholder){\n                            const html = getHighlightedText(skillValue, target.value)\n                            placeholder.innerHTML = `${html}`\n                        }\n                        i += 1;\n                    } else {\n                        valueItem?.classList.remove('hidden')\n                        placeholder?.classList.add('hidden');\n                        skill.classList.add('hidden');\n                        // placeholder.innerHTML = '';\n                    }\n                }\n                const noResultItem: HTMLElement | null = searchArea?.querySelector('.search__no-result');\n                if(noResultItem){\n                    console.log('noresult')\n                    const searchItem: HTMLElement | null = noResultItem.querySelector('.search__value');\n                    if(i === 0){\n                        if(searchItem !== null){\n                            searchItem.innerText = `${target.value}`;\n                        }\n                        noResultItem?.classList.remove('search__info--hidden');\n                    } else {\n                        noResultItem?.classList.add('search__info--hidden')\n                    }\n                }\n            }\n        });\n    }\n}\n\nexport const getHighlightedText = (text: string, searchTerm: string) => {\n    if(searchTerm === '') return text;\n    // Split the text by the highlight term\n    const parts = text.split(new RegExp(`(${searchTerm})`, 'gi'));\n    return parts.map((part, i) => \n        part.toLowerCase() === searchTerm.toLowerCase() ? `<span class=\"search-match\">${part}</span>` : part\n    ).join('');\n}\n","// import 'vite/dynamic-import-polyfill'; // for prod mode\nimport './_framework/css/index.css';\nimport { createSearch } from './components/molecules/search/search.molecule';\n\n\ncreateSearch('data-search', 'skills', '[data-skill]');"],"names":["createSearch","target","uid","source","searchArea","input","e","skills","skill","valueItem","placeholder","i","skillValue","_a","_b","html","getHighlightedText","noResultItem","searchItem","text","searchTerm","part"],"mappings":"AAAO,MAAMA,EAAe,CAACC,EAAgBC,EAAaC,IAAmB,CAEzE,MAAMC,EAAa,SAAS,cAAc,IAAIH,MAAWC,KAAO,EAChE,GAAGE,EAAW,CACJ,MAAAC,EAAiCD,GAAA,YAAAA,EAAY,cAAc,SAC1DC,GAAA,MAAAA,EAAA,iBAAiB,QAAUC,GAAM,SAC9B,MAAAC,EAAS,SAAS,iBAAiBJ,CAAM,EACzCF,EAASK,EAAE,OAEdL,GAAAA,EAAO,QAAU,GAEhB,UAAUO,KAASD,EAAQ,CACjBC,EAAA,UAAU,OAAO,QAAQ,EACzB,MAAAC,EAAYD,EAAM,cAAc,cAAc,EAC9CE,EAAcF,EAAM,cAAc,eAAe,EAC5CC,GAAA,MAAAA,EAAA,UAAU,OAAO,UACfC,GAAA,MAAAA,EAAA,UAAU,IAAI,SAC/B,KACG,CACH,IAAIC,EAAI,EACR,UAAUH,KAASD,EAAQ,CACjB,MAAAE,EAAYD,EAAM,cAAc,cAAc,EAC9CE,EAAcF,EAAM,cAAc,eAAe,EACjDI,EAAqBH,GAAA,YAAAA,EAAW,UACnC,IAAAI,EAAAL,EAAM,cAAN,MAAAK,EAAmB,cAAc,SAASZ,EAAO,MAAM,YAAY,GAAI,CAItE,GAHMO,EAAA,UAAU,OAAO,QAAQ,EACpBC,GAAA,MAAAA,EAAA,UAAU,IAAI,WACzBK,EAAAN,EAAM,cAAc,eAAe,IAAnC,MAAAM,EAAsC,UAAU,OAAO,UACpDJ,EAAY,CACX,MAAMK,EAAOC,EAAmBJ,EAAYX,EAAO,KAAK,EACxDS,EAAY,UAAY,GAAGK,GAC/B,CACKJ,GAAA,CAAA,MAEMF,GAAA,MAAAA,EAAA,UAAU,OAAO,UACfC,GAAA,MAAAA,EAAA,UAAU,IAAI,UACrBF,EAAA,UAAU,IAAI,QAAQ,CAGpC,CACM,MAAAS,EAAmCb,GAAA,YAAAA,EAAY,cAAc,sBACnE,GAAGa,EAAa,CACZ,QAAQ,IAAI,UAAU,EAChB,MAAAC,EAAiCD,EAAa,cAAc,gBAAgB,EAC/EN,IAAM,GACFO,IAAe,OACHA,EAAA,UAAY,GAAGjB,EAAO,SAEvBgB,GAAA,MAAAA,EAAA,UAAU,OAAO,yBAEjBA,GAAA,MAAAA,EAAA,UAAU,IAAI,uBAEpC,CACJ,CAAA,EAER,CACJ,EAEaD,EAAqB,CAACG,EAAcC,IAC1CA,IAAe,GAAWD,EAEfA,EAAK,MAAM,IAAI,OAAO,IAAIC,KAAe,IAAI,CAAC,EAC/C,IAAI,CAACC,EAAMV,IACpBU,EAAK,YAAA,IAAkBD,EAAW,YAAA,EAAgB,8BAA8BC,WAAgBA,CAAA,EAClG,KAAK,EAAE,EC3DbrB,EAAa,cAAe,SAAU,cAAc"}